import { defineComponent as w, computed as u, openBlock as l, createElementBlock as b, normalizeClass as P, createVNode as z, mergeProps as c, createBlock as o, unref as a, resolveDynamicComponent as F, createCommentVNode as j } from "vue";
import { _ as D } from "../_shared/InputField.vue_vue_type_style_index_0_lang-DsEEGhs5.js";
import { c as r } from "../_shared/createLucideIcon-BD57EtaP.js";
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const _ = r("BitcoinIcon", [
  [
    "path",
    {
      d: "M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",
      key: "yr8idg"
    }
  ]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const B = r("CurrencyIcon", [
  ["circle", { cx: "12", cy: "12", r: "8", key: "46899m" }],
  ["line", { x1: "3", x2: "6", y1: "3", y2: "6", key: "1jkytn" }],
  ["line", { x1: "21", x2: "18", y1: "3", y2: "6", key: "14zfjt" }],
  ["line", { x1: "3", x2: "6", y1: "21", y2: "18", key: "iusuec" }],
  ["line", { x1: "21", x2: "18", y1: "21", y2: "18", key: "yj2dd7" }]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const L = r("DollarSignIcon", [
  ["line", { x1: "12", x2: "12", y1: "2", y2: "22", key: "7eqyqh" }],
  ["path", { d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6", key: "1b0p4s" }]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const C = r("EuroIcon", [
  ["path", { d: "M4 10h12", key: "1y6xl8" }],
  ["path", { d: "M4 14h9", key: "1loblj" }],
  [
    "path",
    {
      d: "M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",
      key: "1j6lzo"
    }
  ]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const S = r("GemIcon", [
  ["path", { d: "M6 3h12l4 6-10 13L2 9Z", key: "1pcd5k" }],
  ["path", { d: "M11 3 8 9l4 13 4-13-3-6", key: "1fcu3u" }],
  ["path", { d: "M2 9h20", key: "16fsjt" }]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const q = r("JapaneseYenIcon", [
  ["path", { d: "M12 9.5V21m0-11.5L6 3m6 6.5L18 3", key: "2ej80x" }],
  ["path", { d: "M6 15h12", key: "1hwgt5" }],
  ["path", { d: "M6 11h12", key: "wf4gp6" }]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const E = r("PercentIcon", [
  ["line", { x1: "19", x2: "5", y1: "5", y2: "19", key: "1x9vlm" }],
  ["circle", { cx: "6.5", cy: "6.5", r: "2.5", key: "4mh3h7" }],
  ["circle", { cx: "17.5", cy: "17.5", r: "2.5", key: "1mdrzq" }]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const H = r("PoundSterlingIcon", [
  ["path", { d: "M18 7c0-5.333-8-5.333-8 0", key: "1prm2n" }],
  ["path", { d: "M10 7v14", key: "18tmcs" }],
  ["path", { d: "M6 21h12", key: "4dkmi1" }],
  ["path", { d: "M6 13h10", key: "ybwr4a" }]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const N = r("RussianRubleIcon", [
  ["path", { d: "M6 11h8a4 4 0 0 0 0-8H9v18", key: "18ai8t" }],
  ["path", { d: "M6 15h8", key: "1y8f6l" }]
]);
/**
 * @license lucide-vue-next v0.340.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const R = r("SwissFrancIcon", [
  ["path", { d: "M10 21V3h8", key: "br2l0g" }],
  ["path", { d: "M6 16h9", key: "2py0wn" }],
  ["path", { d: "M10 9.5h7", key: "13dmhz" }]
]), A = {
  name: "PriceField"
}, K = /* @__PURE__ */ w({
  ...A,
  props: {
    id: {},
    name: {},
    modelValue: {},
    icon: {},
    iconProps: {},
    iconPlacement: {},
    placeholder: {},
    min: {},
    max: {},
    step: {},
    decimals: { default: 2 },
    size: {},
    validation: {},
    validationMessage: {},
    disabled: {},
    readonly: {},
    required: {}
  },
  emits: ["update:modelValue"],
  setup(y, { emit: m }) {
    const e = y, p = m, s = u({
      get() {
        return e.modelValue || e.modelValue === 0 ? e.modelValue : null;
      },
      set(n) {
        p("update:modelValue", n);
      }
    }), f = u(() => {
      if (e.iconPlacement)
        return e.iconPlacement;
      {
        let n = {
          currency: "right",
          bitcoin: "left",
          dollar: "left",
          euro: "right",
          gem: "right",
          yen: "left",
          percent: "right",
          sterling: "left",
          ruble: "left",
          franc: "left"
        };
        return typeof e.icon == "string" && n[e.icon] ? n[e.icon] : "right";
      }
    }), t = u(() => {
      const n = {
        size: (e.size || "sm") == "lg" ? 24 : 16,
        strokeWidth: (e.size || "sm") == "lg" ? 1.5 : 2
      };
      return Object.assign(n, e.iconProps || {});
    }), d = u(() => {
      const n = e.decimals === 0 ? parseInt(e.modelValue || "0") : parseFloat(e.modelValue || "0");
      return isNaN(n) ? 0 : n;
    }), k = u(() => d.value <= (e.min || -1 / 0)), h = u(() => d.value >= (e.max || 1 / 0));
    function g(n) {
      let i;
      n.indexOf(".") >= 0 || n.indexOf(",") >= 0 ? i = parseFloat(n.replace(",", ".").replace(/[^0-9.]/g, "")) : i = parseFloat(n + ".00"), s.value = i.toFixed(e.decimals);
    }
    function v(n) {
      let i = n.target;
      if (i && i instanceof HTMLInputElement)
        g(i.value);
      else
        return;
    }
    function x(n) {
      n.key == "ArrowUp" && (n.preventDefault(), V()), n.key == "ArrowDown" && (n.preventDefault(), M());
    }
    function M() {
      let n = d.value;
      k.value || (n -= e.step || 1), s.value = n.toFixed(e.decimals);
    }
    function V() {
      let n = d.value;
      h.value || (n += e.step || 1), s.value = n.toFixed(e.decimals);
    }
    return (n, i) => (l(), b("div", {
      class: P(["field-group", [
        e.icon ? "group-icon" : "",
        e.icon ? `group-icon-${f.value}` : ""
      ]])
    }, [
      z(D, c(e, {
        type: "text",
        onKeydown: x,
        onBlur: v,
        inputmode: "numeric",
        modelValue: s.value,
        "onUpdate:modelValue": i[0] || (i[0] = (I) => s.value = I)
      }), null, 16, ["modelValue"]),
      e.icon == "currency" ? (l(), o(a(B), c({ key: 0 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "bitcoin" ? (l(), o(a(_), c({ key: 1 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "dollar" ? (l(), o(a(L), c({ key: 2 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "euro" ? (l(), o(a(C), c({ key: 3 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "gem" ? (l(), o(a(S), c({ key: 4 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "yen" ? (l(), o(a(q), c({ key: 5 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "percent" ? (l(), o(a(E), c({ key: 6 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "sterling" ? (l(), o(a(H), c({ key: 7 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "ruble" ? (l(), o(a(N), c({ key: 8 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon == "franc" ? (l(), o(a(R), c({ key: 9 }, t.value, { class: "field-currency-icon" }), null, 16)) : e.icon ? (l(), o(F(n.icon), c({ key: 10 }, t.value, { class: "field-currency-icon" }), null, 16)) : j("", !0)
    ], 2));
  }
});
export {
  K as default
};
